{% extends 'base.html' %}
{% block title %}
    Category of {{ request.user.username }}
{% endblock %}
{% block content %}
    <section class="section section_header" data-parallax="scroll" data-image-src="assets/img/25.jpg">
        <div class="container">
            <div class="row">
                <div class="col">

                    <!-- Heading -->
                    <h1 class="section__heading section_header__heading text-center">
                        Menu categories:
                    </h1>

                </div>
            </div> <!-- / .row -->
        </div> <!-- / .container -->
    </section>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
            <li class="breadcrumb-item active"><a href="{% url 'category' %}">Category</a></li>
        </ol>
    </nav>
    <div class="container" style="margin-bottom: 30px;">
        <div class="row">

            <div class="col-sm-4" style="margin-bottom: 20px">
                <div class="card text-center h-100">
                    <div class="card-body">
                        <a href="{% url 'add_category' %}" class="btn btn-primary">Add category</a>
                    </div>
                    <div class="card-body">
                        <a href="{% url 'product' %}" class="btn btn-primary">View menu</a>
                    </div>

                </div>
            </div>
            <br>
            {% for category in categories %}
                <div class="col-sm-4" style="margin-bottom: 20px">
                    <div class="card text-center h-100">
                        <div class="card-body">
                            <a href="{% url 'category_detail' category.id %}"><h5
                                    class="card-title">{{ category.name }}</h5></a>
                            <p class="card-text">{{ category.description }}</p>
                            <a href="{% url 'edit_category' category.id %}" class="btn btn-primary"><i class="fas fa-edit"></i></a>
                            <a href="" data-toggle="modal{{ category.id }}" class="btn btn-primary"
                                    data-target="#exampleModal{{ category.id }}"><i
                                    class="fas fa-trash"></i></a>
                            <a href="{% url 'add_product' category.id %}" class="btn btn-primary">Add product</a>

                        </div>
                    </div>
                </div>
                 <div class="modal modal{{ category.id }} fade" id="exampleModal{{ category.id }}" tabindex="-1" role="dialog"
                                 aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">
                                                Delete {{ category.name }}</h5>
                                            <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            Confirm delete product: {{ category.name }}?
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                    data-dismiss="modal">Close
                                            </button>
                                            <a href="{% url 'delete_category' category.id %}">
                                                <button type="button" class="btn btn-primary">Delete</button>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
            {% endfor %}

        </div>
    </div>




{% endblock %}